name: "Relatorio-Nomeados-TRF3-Completo"

on:
  workflow_dispatch: # Permite rodar manualmente a qualquer momento

jobs:
  extracao_detalhada:
    runs-on: ubuntu-latest
    steps:
      - name: "Checkout Ro-dou"
        uses: actions/checkout@v4

      - name: "Executar Busca TRF3"
        env:
          DATA_INICIAL: "2024-12-01"
          DATA_FINAL: "2026-02-19"
          # Filtro de Órgão e Localidades solicitadas
          ORGAO: "TRF3|Tribunal Regional Federal da 3|SJMS|SJSP|Justiça Federal"
          # Filtro de todos os Cargos e Áreas solicitados
          CARGOS: "Analista Judiciário|Técnico Judiciário|Agente da Polícia Judiciária|Área Judiciária|Apoio Especializado|Administrativa"
          # Termo de Nomeação para Seção 2
          TERMO: "nomear|nomeação|provimento"
          SECAO: "2"
        run: |
          echo "Iniciando varredura detalhada desde Dezembro/2024..."
          python main.py --inicio $DATA_INICIAL --fim $DATA_FINAL --secao $SECAO --busca "$TERMO|$CARGOS" --orgao "$ORGAO"

      - name: "Compilar Relatório Final"
        if: success()
        run: |
          echo "ESTRUTURA DO RELATÓRIO: [DATA] | [ATO] | [NOME] | [CARGO/ESPECIALIDADE] | [LOCALIDADE]"
